<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/OI-Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/OI-Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/OI-Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/OI-Blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/OI-Blog/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"timothy-shu.github.io","root":"/OI-Blog/","images":"/OI-Blog/images","scheme":"Gemini","darkmode":false,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/OI-Blog/js/config.js"></script>

    <meta name="description" content="Former OIer">
<meta property="og:type" content="website">
<meta property="og:title" content="NIRVANA">
<meta property="og:url" content="https://timothy-shu.github.io/OI-Blog/page/2/index.html">
<meta property="og:site_name" content="NIRVANA">
<meta property="og:description" content="Former OIer">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Azrael">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://timothy-shu.github.io/OI-Blog/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>NIRVANA</title>
  






  <noscript>
    <link rel="stylesheet" href="/OI-Blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/OI-Blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">NIRVANA</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">OI Journal</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/OI-Blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="https://timothy-shu.github.io/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/OI-Blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-archives"><a href="/OI-Blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Azrael</p>
  <div class="site-description" itemprop="description">Former OIer</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/OI-Blog/archives/">
          <span class="site-state-item-count">249</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/OI-Blog/tags/">
        <span class="site-state-item-count">153</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/01/BZOJ4872%E3%80%90SHOI2017%E3%80%91%E5%88%86%E6%89%8B%E6%98%AF%E7%A5%9D%E6%84%BF%20%E6%A6%82%E7%8E%87DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/01/BZOJ4872%E3%80%90SHOI2017%E3%80%91%E5%88%86%E6%89%8B%E6%98%AF%E7%A5%9D%E6%84%BF%20%E6%A6%82%E7%8E%87DP/" class="post-title-link" itemprop="url">BZOJ4872【SHOI2017】分手是祝愿 <概率DP></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-01 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-01T00:00:00+08:00">2018-10-01</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【SHOI2017】分手是祝愿"><a href="#【SHOI2017】分手是祝愿" class="headerlink" title="【SHOI2017】分手是祝愿"></a>【SHOI2017】分手是祝愿</h3><p>$\mathrm{Time;Limit:;20;Sec}$<br>$\mathrm{Memory;Limit:;512;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p><code>Zeit und Raum trennen dich und mich.</code><br>时空将你我分开。$\mathrm{B 君}$在玩一个游戏，这个游戏由 $n$ 个灯和 $n$ 个开关组成，给定这 $n$ 个灯的初始状态，下标为从 $1$ 到 $n$ 的正整数。每个灯有两个状态亮和灭，我们用 $1$ 来表示这个灯是亮的，用 $0$ 表示这个灯是灭的，游戏的目标是使所有灯都灭掉。但是当操作第 $i$ 个开关时，所有编号为 $i$ 的约数（包括 $1$ 和 $i$）的灯的状态都会被改变，即从亮变成灭，或者是从灭变成亮。$\mathrm{B 君}$发现这个游戏很难，于是想到了这样的一个策略，每次等概率随机操作一个开关，直到所有灯都灭掉。这个策略需要的操作次数很多， $\mathrm{B 君}$想到这样的一个优化。如果当前局面，可以通过操作小于等于 $k$ 个开关使所有灯都灭掉，那么他将不再随机，直接选择操作次数最小的操作方法（这个策略显然小于等于 $k$ 步）操作这些开关。$\mathrm{B 君}$想知道按照这个策略（也就是先随机操作，最后小于等于 $k$ 步，使用操作次数最小的操作方法）的操作次数的期望。这个期望可能很大，但是 $\mathrm{B 君}$发现这个期望乘以 $n!$ 一定是整数，所以他只需要知道这个整数对 $100003$ 取模之后的结果。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行两个整数 $n$, $k$。<br>接下来一行 $n$ 个整数，每个整数是 $0$ 或者 $1$，其中第 $i$ 个整数表示第 $i$ 个灯的初始情况。<br>$1\le n\le 100000$, $0\le k\le n$</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一行，为操作次数的期望乘以 $n!$ 对 $100003$ 取模之后的结果。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/01/BZOJ4872%E3%80%90SHOI2017%E3%80%91%E5%88%86%E6%89%8B%E6%98%AF%E7%A5%9D%E6%84%BF%20%E6%A6%82%E7%8E%87DP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/01/CF264E%20Roadside%20Trees%20%E7%BA%BF%E6%AE%B5%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/01/CF264E%20Roadside%20Trees%20%E7%BA%BF%E6%AE%B5%E6%A0%91/" class="post-title-link" itemprop="url">CF264E Roadside Trees <线段树></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-01 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-01T00:00:00+08:00">2018-10-01</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Roadside-Trees"><a href="#Roadside-Trees" class="headerlink" title="Roadside Trees"></a>Roadside Trees</h3><p>$\mathrm{Time;limit:;5;Sec}$<br>$\mathrm{Memory;limit:;256;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Squirrel Liss loves nuts. Liss asks you to plant some nut trees.<br>There are $n$ positions (numbered 1 to $n$ from west to east) to plant a tree along a street. Trees grow one meter per month. At the beginning of each month you should process one query. The query is one of the following types:</p>
<ul>
<li>Plant a tree of height $h$ at position $p$.</li>
<li>Cut down the $x^{th}$ existent (not cut) tree from the west (where $x$ is 1-indexed). When we cut the tree it drops down and takes all the available place at the position where it has stood. So no tree can be planted at this position anymore.</li>
</ul>
<p>After processing each query, you should print the length of the longest increasing subsequence. A subset of existent trees is called an increasing subsequence if the height of the trees in the set is strictly increasing from west to east (for example, the westmost tree in the set must be the shortest in the set). The length of the increasing subsequence is the number of trees in it.<br>Note that Liss don’t like the trees with the same heights, so it is guaranteed that at any time no two trees have the exactly same heights.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two integers: $n$ and $m$ $(1\le n\le 10^5; 1\le m\le 2\cdot 10^5)$ – the number of positions and the number of queries.<br>Next $m$ lines contains the information of queries by following formats:</p>
<ul>
<li>If the $i^{th}$ query is type 1, the $i^{th}$ line contains three integers: 1, $p_i$, and $h_i$ $(1\le p_i\le n,1\le h_i\le 10)$, where $p_i$ is the position of the new tree and $h_i$ is the initial height of the new tree.</li>
<li>If the $i^{th}$ query is type 2, the $i^{th}$ line contains two integers: 2 and $x_i$ $(1\le x_i\le 10)$, where the $x_i$ is the index of the tree we want to cut.<br>The input is guaranteed to be correct, i.e.,</li>
<li>For type 1 queries, $p_i$ will be pairwise distinct.</li>
<li>For type 2 queries, $x_i$ will be less than or equal to the current number of trees.</li>
<li>At any time no two trees have the exactly same heights.</li>
</ul>
<p>In each line integers are separated by single spaces.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print $m$ integers – the length of the longest increasing subsequence after each query. Separate the numbers by whitespaces.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/01/CF264E%20Roadside%20Trees%20%E7%BA%BF%E6%AE%B5%E6%A0%91/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/27/BZOJ1415%E3%80%90NOI2005%E3%80%91%E8%81%AA%E8%81%AA%E5%92%8C%E5%8F%AF%E5%8F%AF%20%E6%A6%82%E7%8E%87DP+%E6%9C%80%E7%9F%AD%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/27/BZOJ1415%E3%80%90NOI2005%E3%80%91%E8%81%AA%E8%81%AA%E5%92%8C%E5%8F%AF%E5%8F%AF%20%E6%A6%82%E7%8E%87DP+%E6%9C%80%E7%9F%AD%E8%B7%AF/" class="post-title-link" itemprop="url">BZOJ1415【NOI2005】聪聪和可可 <概率DP+最短路></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-27T00:00:00+08:00">2018-09-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOI2005】聪聪和可可"><a href="#【NOI2005】聪聪和可可" class="headerlink" title="【NOI2005】聪聪和可可"></a>【NOI2005】聪聪和可可</h3><p>$\mathrm{Time;Limit:;10;Sec}$<br>$\mathrm{Memory;Limit:;162;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><center>
![](https://www.lydsy.com/JudgeOnline/images/1415_1.jpg)
</center>
### Input
第一行为两个整数$N$和$E$，以空格分隔，分别表示森林中的景点数和连接相邻景点的路的条数。
第二行包含两个整数$C$和$M$，以空格分隔，分别表示初始时聪聪和可可所在的景点的编号。
接下来$E$行，每行两个整数，第$i+2$行的两个整数$A_i$和$B_i$表示景点$A_i$和景点$B_i$之间有一条无向边。
输入保证任何两个景点之间不会有多于一条路直接相连，且聪聪和可可之间必有路直接或间接的相连。
### Output
输出一个实数，四舍五入保留三位小数，表示平均多少个时间单位后聪聪会把可可吃掉。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/27/BZOJ1415%E3%80%90NOI2005%E3%80%91%E8%81%AA%E8%81%AA%E5%92%8C%E5%8F%AF%E5%8F%AF%20%E6%A6%82%E7%8E%87DP+%E6%9C%80%E7%9F%AD%E8%B7%AF/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/27/BZOJ3566%E3%80%90SHOI2014%E3%80%91%E6%A6%82%E7%8E%87%E5%85%85%E7%94%B5%E5%99%A8%20%E6%A6%82%E7%8E%87DP+%E6%A0%91%E5%BD%A2DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/27/BZOJ3566%E3%80%90SHOI2014%E3%80%91%E6%A6%82%E7%8E%87%E5%85%85%E7%94%B5%E5%99%A8%20%E6%A6%82%E7%8E%87DP+%E6%A0%91%E5%BD%A2DP/" class="post-title-link" itemprop="url">BZOJ3566【SHOI2014】概率充电器 <概率DP+树形DP></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-27T00:00:00+08:00">2018-09-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【SHOI2014】概率充电器"><a href="#【SHOI2014】概率充电器" class="headerlink" title="【SHOI2014】概率充电器"></a>【SHOI2014】概率充电器</h3><p>$\mathrm{Time;Limit:;40;Sec}$<br>$\mathrm{Memory;Limit:;256;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>著名的电子产品品牌$\mathrm{SHOI}$刚刚发布了引领世界潮流的下一代电子产品——概率充电器：<br>“采用全新纳米级加工技术，实现元件与导线能否通电完全由真随机数决定！$\mathrm{SHOI}$概率充电器,您生活不可或缺的必需品！能充上电吗？现在就试试看吧！”<br>$\mathrm{SHOI}$概率充电器由$n-1$条导线连通了$n$个充电元件。进行充电时，每条导线是否可以导电以概率决定，每一个充电元件自身是否直接进行充电也由概率决定。<br>随后电能可以从直接充电的元件经过通电的导线使得其他充电元件进行间接充电。<br>作为$\mathrm{SHOI}$公司的忠实客户，你无法抑制自己购买$\mathrm{SHOI}$产品的冲动。在排了一个星期的长队之后终于入手了最新型号的$\mathrm{SHOI}$概率充电器。<br>你迫不及待地将$\mathrm{SHOI}$概率充电器插入电源——这时你突然想知道，进入充电状态的元件个数的期望是多少呢？</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行一个整数$n$表示概率充电器的充电元件个数，充电元件由$1\sim n$编号。<br>之后的$n-1$行每行三个整数$a, b, p$，描述了一根导线连接了编号为$a$和$b$的充电元件，通电概率为$p%$。<br>第$n+2$行$n$个整数$q_i$。表示$i$号元件直接充电的概率为$q_i%$。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出一行一个实数，为进入充电状态的元件个数的期望，四舍五入到六位小数。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/27/BZOJ3566%E3%80%90SHOI2014%E3%80%91%E6%A6%82%E7%8E%87%E5%85%85%E7%94%B5%E5%99%A8%20%E6%A6%82%E7%8E%87DP+%E6%A0%91%E5%BD%A2DP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/27/BZOJ5197%E3%80%90CERC2017%E3%80%91Gambling%20Guide%20%E6%A6%82%E7%8E%87DP+Dijkstra/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/27/BZOJ5197%E3%80%90CERC2017%E3%80%91Gambling%20Guide%20%E6%A6%82%E7%8E%87DP+Dijkstra/" class="post-title-link" itemprop="url">BZOJ5197【CERC2017】Gambling Guide <概率DP+Dijkstra></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-27T00:00:00+08:00">2018-09-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【CERC2017】Gambling-Guide"><a href="#【CERC2017】Gambling-Guide" class="headerlink" title="【CERC2017】Gambling Guide"></a>【CERC2017】Gambling Guide</h3><p>$\mathrm{Time;Limit:;20;Sec}$<br>$\mathrm{Memory;Limit:;512;MB}$<br>$\mathrm{Special;Judge}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>给定一张$n$个点，$m$条双向边的无向图。<br>你要从$1$号点走到$n$号点。当你位于$x$点时，你需要花$1$元钱，等概率随机地买到与$x$相邻的一个点的票，只有通过票才能走到其它点。<br>每当完成一次交易时，你可以选择直接使用那张票，也可以选择扔掉那张票然后再花$1$元钱随机买另一张票。注意你可以无限次扔票。<br>请使用最佳的策略，使得期望花的钱数最少。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行包含两个正整数$n,m$ $(1\le n,m\le3\times10^5)$，表示点数和边数。<br>接下来$m$行，每行两个正整数$u,v$ $(1\le u,v\le n)$，表示一条双向边。<br>输入数据保证无重边、无自环，且$1$号点一定可以走到$n$号点。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出一行一个实数，即最少的期望花费，当绝对或者相对误差不超过$10^{-6}$时视为正确。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/27/BZOJ5197%E3%80%90CERC2017%E3%80%91Gambling%20Guide%20%E6%A6%82%E7%8E%87DP+Dijkstra/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/26/BZOJ2201%20%E5%BD%A9%E8%89%B2%E5%9C%86%E7%8E%AF%20%E6%A6%82%E7%8E%87DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/26/BZOJ2201%20%E5%BD%A9%E8%89%B2%E5%9C%86%E7%8E%AF%20%E6%A6%82%E7%8E%87DP/" class="post-title-link" itemprop="url">BZOJ2201 彩色圆环 <概率DP></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-26T00:00:00+08:00">2018-09-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="彩色圆环"><a href="#彩色圆环" class="headerlink" title="彩色圆环"></a>彩色圆环</h3><p>$\mathrm{Time;Limit:;10;Sec}$<br>$\mathrm{Memory;Limit:;259;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><center>
![](https://www.lydsy.com/JudgeOnline/images/2201.jpg)
</center>
### Input
仅有一行，该行给出依次两个正整数$N,M$，分别表示宝石的个数和宝石在变化时可能变成的颜色种类数。
### Output
应仅有一行，该行给出一个实数$E(R)$，表示圆环的“美观程度”的期望值。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/26/BZOJ2201%20%E5%BD%A9%E8%89%B2%E5%9C%86%E7%8E%AF%20%E6%A6%82%E7%8E%87DP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/26/BZOJ2688%20Green%20Hackenbush%20%E6%A6%82%E7%8E%87DP+%E5%8D%9A%E5%BC%88%E8%AE%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/26/BZOJ2688%20Green%20Hackenbush%20%E6%A6%82%E7%8E%87DP+%E5%8D%9A%E5%BC%88%E8%AE%BA/" class="post-title-link" itemprop="url">BZOJ2688 Green Hackenbush <概率DP+博弈论></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-26T00:00:00+08:00">2018-09-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Green-Hackenbush"><a href="#Green-Hackenbush" class="headerlink" title="Green Hackenbush"></a>Green Hackenbush</h3><p>$\mathrm{Time;Limit:;10;Sec}$<br>$\mathrm{Memory;Limit:;128;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>有一个古老的游戏叫做$\mathrm{Green;Hackenbush}$，游戏是这样进行的：两个人轮流在一棵树上删边，每次删边后不与根联通的子树直接被忽略，不能删边的游戏者输。$\mathrm{Alice}$和$\mathrm{Bob}$也在玩这个游戏，不过他们面对的是$n$棵树，第$i$棵树是含有$a_i$个节点的二叉树。先手的$\mathrm{Alice}$想知道自己有多大的概率获胜(假设我们的$\mathrm{Alice}$和$\mathrm{Bob}$同学都是无限聪明的)。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行一个数$n$。<br>接下来每行一个数$a_i$。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一个保留$6$位小数的实数$ans$。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/26/BZOJ2688%20Green%20Hackenbush%20%E6%A6%82%E7%8E%87DP+%E5%8D%9A%E5%BC%88%E8%AE%BA/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/25/ARC072E%20Alice%20in%20linear%20land%20DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/25/ARC072E%20Alice%20in%20linear%20land%20DP/" class="post-title-link" itemprop="url">ARC072E Alice in linear land < DP ></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-25 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-25T00:00:00+08:00">2018-09-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Alice-in-linear-land"><a href="#Alice-in-linear-land" class="headerlink" title="Alice in linear land"></a>Alice in linear land</h3><p>$\mathrm{Time;limit:;2;Sec}$<br>$\mathrm{Memory;limit:;256;MB}$</p>
<h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><p>Alice lives on a line. Today, she will travel to some place in a mysterious vehicle. Initially, the distance between Alice and her destination is $D$. When she input a number $x$ to the vehicle, it will travel in the direction of the destination by a distance of $x$ if this move would shorten the distance between the vehicle and the destination, and it will stay at its position otherwise. Note that the vehicle may go past the destination when the distance between the vehicle and the destination is less than $x$.<br>Alice made a list of $N$ numbers. The $i^{th}$ number in this list is $d_i$. She will insert these numbers to the vehicle one by one.<br>However, a mischievous witch appeared. She is thinking of rewriting one number in the list so that Alice will not reach the destination after $N$ moves.<br>She has $Q$ plans to do this, as follows:<br>Rewrite only the $q_i^{th}$ number in the list with some integer so that Alice will not reach the destination.<br>Write a program to determine whether each plan is feasible.</p>
<h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><p>$1\le N\le5\times10^5$<br>$1\le Q\le5\times10^5$<br>$1\le D\le10^9$<br>$1\le d_i\le10^9;(1\le i\le N)$<br>$1\le q_i\le N;(1\le i\le Q)$<br>$D$ and each $d_i$ are integers.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:<br>$N;D$<br>$d_1;d_2;\cdots;d_N$<br>$Q$<br>$q_1;q_2;\cdots;q_Q$</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print $Q$ lines. The $i^{th}$ line should contain <code>YES</code> if the $i^{th}$ plan is feasible, and <code>NO</code> otherwise.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/25/ARC072E%20Alice%20in%20linear%20land%20DP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/23/AGC021E%20Ball%20Eat%20Chameleons%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/23/AGC021E%20Ball%20Eat%20Chameleons%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/" class="post-title-link" itemprop="url">AGC021E Ball Eat Chameleons <组合数学></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-23T00:00:00+08:00">2018-09-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Ball-Eat-Chameleons"><a href="#Ball-Eat-Chameleons" class="headerlink" title="Ball Eat Chameleons"></a>Ball Eat Chameleons</h3><p>$\mathrm{Time;limit:;2;Sec}$<br>$\mathrm{Memory;limit:;256;MB}$</p>
<h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><p>In Republic of AtCoder, Snuke Chameleons (Family: Chamaeleonidae, Genus: Bartaberia) are very popular pets. Ringo keeps $N$ Snuke Chameleons in a cage.<br>A Snuke Chameleon that has not eaten anything is blue. It changes its color according to the following rules:</p>
<ul>
<li>A Snuke Chameleon that is blue will change its color to red when the number of red balls it has eaten becomes strictly larger than the number of blue balls it has eaten.</li>
<li>A Snuke Chameleon that is red will change its color to blue when the number of blue balls it has eaten becomes strictly larger than the number of red balls it has eaten.</li>
</ul>
<p>Initially, every Snuke Chameleon had not eaten anything. Ringo fed them by repeating the following process K times:</p>
<ul>
<li>Grab either a red ball or a blue ball.</li>
<li>Throw that ball into the cage. Then, one of the chameleons eats it.</li>
</ul>
<p>After Ringo threw in $K$ balls, all the chameleons were red. We are interested in the possible ways Ringo could have thrown in $K$ balls. How many such ways are there? Find the count modulo $998244353$. Here, two ways to throw in balls are considered different when there exists $i$ such that the color of the ball that are thrown in the $i^{th}$ throw is different.</p>
<h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><p>$1\le N,K\le5\times10^5$<br>$N$ and $K$ are integers.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:<br>$N;K$</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the possible ways Ringo could have thrown in $K$ balls, modulo $998244353$.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/23/AGC021E%20Ball%20Eat%20Chameleons%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/09/22/CF995F%20Cowmpany%20Cowmpensation%20%E6%A0%91%E5%BD%A2DP+%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%8F%92%E5%80%BC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Former OIer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/09/22/CF995F%20Cowmpany%20Cowmpensation%20%E6%A0%91%E5%BD%A2DP+%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%8F%92%E5%80%BC/" class="post-title-link" itemprop="url">CF995F Cowmpany Cowmpensation < 树形DP+多项式插值 ></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-09-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-22T00:00:00+08:00">2018-09-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Cowmpany-Cowmpensation"><a href="#Cowmpany-Cowmpensation" class="headerlink" title="Cowmpany Cowmpensation"></a>Cowmpany Cowmpensation</h3><p>$\mathrm{Time;Limit:;2;seconds}$<br>$\mathrm{Memory;Limit:;256;megabytes}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Allen, having graduated from the MOO Institute of Techcowlogy (MIT), has started a startup! Allen is the president of his startup. He also hires $n-1$ other employees, each of which is assigned a direct superior. If $u$ is a superior of $v$ and $v$ is a superior of $w$ then also $u$ is a superior of $w$. Additionally, there are no $u$ and $v$ such that $u$ is the superior of $v$ and $v$ is the superior of $u$. Allen himself has no superior. Allen is employee number $1$, and the others are employee numbers $2$ through $n$.<br>Finally, Allen must assign salaries to each employee in the company including himself. Due to budget constraints, each employee’s salary is an integer between $1$ and $D$. Additionally, no employee can make strictly more than his superior.<br>Help Allen find the number of ways to assign salaries. As this number may be large, output it modulo $10^9+7$.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains two integers $n$ and $D$ ($1\le n\le3000$, $1\le D\le10^9$).<br>The remaining $n-1$ lines each contain a single positive integer, where the $i^{th}$ line contains the integer $p_i$ ($1\le p_i\le i$). $p_i$ denotes the direct superior of employee $i+1$.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output a single integer: the number of ways to assign salaries modulo $10^9+7$.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/09/22/CF995F%20Cowmpany%20Cowmpensation%20%E6%A0%91%E5%BD%A2DP+%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%8F%92%E5%80%BC/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/OI-Blog/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/OI-Blog/">1</a><span class="page-number current">2</span><a class="page-number" href="/OI-Blog/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/OI-Blog/page/25/">25</a><a class="extend next" rel="next" href="/OI-Blog/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Azrael</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/OI-Blog/js/comments.js"></script><script src="/OI-Blog/js/utils.js"></script><script src="/OI-Blog/js/motion.js"></script><script src="/OI-Blog/js/next-boot.js"></script>

  

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/OI-Blog/lib/pdf/web/viewer.html"}</script>
  <script src="/OI-Blog/js/third-party/tags/pdf.js"></script>


  <script src="/OI-Blog/js/third-party/fancybox.js"></script>


  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/OI-Blog/js/third-party/math/mathjax.js"></script>



</body>
</html>
