<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/OI-Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/OI-Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/OI-Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/OI-Blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/OI-Blog/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"timothy-shu.github.io","root":"/OI-Blog/","images":"/OI-Blog/images","scheme":"Mist","darkmode":false,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/OI-Blog/js/config.js"></script>

    <meta name="description" content="Personal Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="NIRVANA">
<meta property="og:url" content="https://timothy-shu.github.io/OI-Blog/index.html">
<meta property="og:site_name" content="NIRVANA">
<meta property="og:description" content="Personal Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Azrael">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://timothy-shu.github.io/OI-Blog/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>NIRVANA</title>
  






  <noscript>
    <link rel="stylesheet" href="/OI-Blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/OI-Blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">NIRVANA</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Veni Vidi Vici</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Azrael</p>
  <div class="site-description" itemprop="description">Personal Blog</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/OI-Blog/archives/">
          <span class="site-state-item-count">268</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/OI-Blog/tags/">
        <span class="site-state-item-count">153</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F1%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E6%A6%82%E7%8E%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F1%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E6%A6%82%E7%8E%87/" class="post-title-link" itemprop="url">计蒜客【NOIP2018模拟1】数三角形 <概率></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2018-10-26 00:00:00 / Modified: 20:34:27" itemprop="dateCreated datePublished" datetime="2018-10-26T00:00:00+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOIP2018模拟1】数三角形"><a href="#【NOIP2018模拟1】数三角形" class="headerlink" title="【NOIP2018模拟1】数三角形"></a>【NOIP2018模拟1】数三角形</h3><p>$\mathrm{Time;Limit:;1000;ms}$<br>$\mathrm{Memory;Limit:;262144;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>大家都学过三角形吧。在这个问题里，我们要在随机图里数三角形。首先，我们有一张完全图G，它的边有可能是红色或者蓝色。其中有三种可能的随机性。</p>
<ol>
<li>某条边 $e$ ，以 $p_e$ 的概率是红色，以 $1-p_e$ 的概率是蓝色。</li>
<li>对于一组若干条边 $e_1, e_2, \cdots, e_k$，只有一条边是红色其他是蓝色，且 $e_i$ 是红色的概率为 $p_i$，满足 $\sum^{k}_{i&#x3D;1}p_i&#x3D;1$。</li>
<li>对于一组若干条边 $e_1, e_2, \cdots, e_k$，只有一条边是蓝色其他是红色，且 $e_i$ 是红色的概率为 $p_i$，满足 $\sum^{k}_{i&#x3D;1}p_i&#x3D;1$。</li>
</ol>
<p>现在你需要找出三条边同色的三角形的期望。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行一个数 $n$, 表示G的顶点个数。接下来 $\frac{n(n - 1)}{2}$ 行，每行四或五个数字 $i,j,v,p,(l)$，表示点 $i$ 和 点 $j$ 之间的边的随机种类是 $v$ , 且它对应的概率为 $p$ 。满足 $i \neq j, v \in {1, 2, 3}$ 且 $p$ 是 $0$ 到 $1$ 的实数。保证每条边恰好出现一次。如果 $v &gt; 1$，则还会有一个输入 $l$ ,表示这条边属于那一组。如前面所述，同一组的所有边的概率加起来为 $1$ ，且恰好有一条为红色$(v &#x3D; 2)$或蓝色$(v &#x3D; 3)$。保证每组至少有两条边，且组的编号为从 $1$ 开始的连续编号。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一行，一个数，表示同色三角形的期望个数，保留两位小数。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F1%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E6%A6%82%E7%8E%87/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%89%8B%E6%8B%89%E6%89%8B%20%E6%A6%82%E7%8E%87DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%89%8B%E6%8B%89%E6%89%8B%20%E6%A6%82%E7%8E%87DP/" class="post-title-link" itemprop="url">计蒜客【NOIP2018模拟3】手拉手 <概率DP></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2018-10-26 00:00:00 / Modified: 20:55:11" itemprop="dateCreated datePublished" datetime="2018-10-26T00:00:00+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOIP2018模拟3】手拉手"><a href="#【NOIP2018模拟3】手拉手" class="headerlink" title="【NOIP2018模拟3】手拉手"></a>【NOIP2018模拟3】手拉手</h3><p>$\mathrm{Time;Limit:;1000;ms}$<br>$\mathrm{Memory;Limit:;131072;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>小 P 是个幼儿园老师。有一天，他组织 $n$ 个小朋友玩游戏。游戏开始时，每个小朋友伸出两只手，没有手相互拉在一起。每次，小 P 等概率随机挑选两只空着的手，让这两只手拉在一起。小 P 一直重复这个操作，直到所有的手都拉在一起。小 P 在成为幼儿园老师之前是个数学专业的博士。因此，他想知道，当所有的手都拉在一起之后，小朋友们拉成的圈个数的期望是多少？其中，我们规定，一个小朋友左手拉右手的情况也形成一个圈。<br>由于小 P 忙着和小朋友们玩游戏，他找到了聪明的你，希望你能帮他解决这个问题。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入数据仅一行，包含一个正整数 $n$ ，表示小朋友的数量。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出文件仅一行，包含一个实数，表示当所有的手都拉在一起之后，小朋友们拉成的圈个数的期望是多少。输出和标准答案的绝对误差不能超过 $10^{-9}$。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/26/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2018%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%89%8B%E6%8B%89%E6%89%8B%20%E6%A6%82%E7%8E%87DP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/23/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E8%AE%A1%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/23/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E8%AE%A1%E6%95%B0/" class="post-title-link" itemprop="url">计蒜客【NOIP2017模拟3】数三角形 <计数></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-23T00:00:00+08:00">2018-10-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-26 19:42:27" itemprop="dateModified" datetime="2018-10-26T19:42:27+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOIP2017模拟3】数三角形"><a href="#【NOIP2017模拟3】数三角形" class="headerlink" title="【NOIP2017模拟3】数三角形"></a>【NOIP2017模拟3】数三角形</h3><p>$\mathrm{Time;Limit:;3000;ms}$<br>$\mathrm{Memory;Limit:;262144;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>刚刚上高中的洁洁在学习组合数学的过程中遇到一道麻烦的题目，她希望你能帮助她解决。给定一张无向完全图 $G$，其中大部分边被染成蓝色，但也有一些边被染成红色或者绿色。现在，洁洁需要给这张图的多样性进行打分。一张图的多样性取决于它的同色和异色三角形的个数。具体来说，$G$ 中每有一个三边颜色都互不同的三角形（异色三角形）可以得 $3$ 分，每有一个三边颜色都相同的三角形（同色三角形）则要被扣掉 $6$ 分，其它三角形不得分也不扣分。<br>现在，请你写一个程序来计算 $G$ 的多样性分数。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行两个正整数 $n$ 和 $m$，其中 $n$ 表示 $G$ 中顶点的个数，$m$ 表示 $G$ 中红色或者绿色的边的条数。<br>接下来 $m$ 行每行包括三个整数 $a,b,c$，代表连接顶点 $a$ 和顶点 $b$ 的边颜色为红色 $(c&#x3D;1)$ 或者绿色 $(c&#x3D;2)$。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一行，$G$ 的多样性得分。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/23/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E6%95%B0%E4%B8%89%E8%A7%92%E5%BD%A2%20%E8%AE%A1%E6%95%B0/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F2%E3%80%91%E9%93%B6%E6%B2%B3%E6%88%98%E8%88%B0%20%E7%BA%BF%E6%AE%B5%E6%A0%91+%E7%9F%A9%E9%98%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F2%E3%80%91%E9%93%B6%E6%B2%B3%E6%88%98%E8%88%B0%20%E7%BA%BF%E6%AE%B5%E6%A0%91+%E7%9F%A9%E9%98%B5/" class="post-title-link" itemprop="url">计蒜客【NOIP2017模拟2】银河战舰 <线段树+矩阵></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-22T00:00:00+08:00">2018-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-26 20:59:10" itemprop="dateModified" datetime="2018-10-26T20:59:10+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOIP2017模拟2】银河战舰"><a href="#【NOIP2017模拟2】银河战舰" class="headerlink" title="【NOIP2017模拟2】银河战舰"></a>【NOIP2017模拟2】银河战舰</h3><p>$\mathrm{Time;Limit:;1000;ms}$<br>$\mathrm{Memory;Limit:;262144;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>瑞奥和玛德利德是非常好的朋友。瑞奥平时的爱好是吹牛，玛德利德的爱好是戳穿瑞奥吹的牛。<br>这天瑞奥和玛德利德来到了宇宙空间站，瑞奥向玛德利德炫耀这个空间站里所有的银河战舰都是自己的。整个空间站可以看成一个无限大的二维平面，每个战舰都可以看做一个点，在空间站中一共分布着 $N$ 艘银河战舰。<br>玛德利德：“你说这些都是你的，那你让他们动一动啊”。<br>瑞奥：“诶你看,那艘动了！”。<br>玛德利德：“操作指令由我来发，一共有 $5$ 种动的方法……”。<br>瑞奥：“我觉得这样有失公正……”。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行一个正整数 $N$，表示战舰的数量。<br>接下来 $N$ 行，每行两个实数，代表第 $i$ 个战舰的 $x,y$ 坐标。<br>然后一个正整数 $M$，代表调度的次数。<br>接下来 $M$ 行操作，每个操作都是如下类型的一种：</p>
<ul>
<li>$M,l,r,p,q$：把编号在 $[l,r]$ 区间内的战舰 $x$ 坐标加上 $p$，$y$ 坐标加上 $q$。</li>
<li>$X,l,r$：把编号在 $[l,r]$ 区间内的战舰沿 $x$ 轴翻转。</li>
<li>$Y,l,r$：把编号在 $[l,r]$ 区间内的战舰沿 $y$ 轴翻转。</li>
<li>$O,l,r$：把编号在 $[l,r]$ 区间内的战舰沿直线 $y&#x3D;x$ 翻转。</li>
<li>$R,l,r,a$：把编号在 $[l,r]$ 区间内的战舰绕原点逆时针旋转 $a^\circ$。</li>
</ul>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出包括 $N$ 行，代表着 $N$ 艘战舰经过 $M$ 次调度之后的坐标（保留两位小数）。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F2%E3%80%91%E9%93%B6%E6%B2%B3%E6%88%98%E8%88%B0%20%E7%BA%BF%E6%AE%B5%E6%A0%91+%E7%9F%A9%E9%98%B5/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E4%BB%BB%E6%80%A7%E7%9A%84%E5%9B%BD%E7%8E%8B%20%E7%BA%BF%E6%AE%B5%E6%A0%91+MST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E4%BB%BB%E6%80%A7%E7%9A%84%E5%9B%BD%E7%8E%8B%20%E7%BA%BF%E6%AE%B5%E6%A0%91+MST/" class="post-title-link" itemprop="url">计蒜客【NOIP2017模拟3】任性的国王 <线段树+MST></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-22T00:00:00+08:00">2018-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-26 19:16:33" itemprop="dateModified" datetime="2018-10-26T19:16:33+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【NOIP2017模拟3】任性的国王"><a href="#【NOIP2017模拟3】任性的国王" class="headerlink" title="【NOIP2017模拟3】任性的国王"></a>【NOIP2017模拟3】任性的国王</h3><p>$\mathrm{Time;Limit:;1000;ms}$<br>$\mathrm{Memory;Limit:;262144;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>X 国的地图可以被看作一个两行 $n$ 列的网格状图。现在 X 国需要修建铁路，然而该国的国王非常小气，他只想保证位于某两列之间的所有城市互相可以到达就行了，在此基础上，他希望所花费的代价最小。<br>铁路可以建在任何两个相邻的点之间，使他们可以互相到达。可以作为工作人员，你已经整理出了为每一对相邻城市架设铁路所需要的花费。你需要准备好回答国王如下形式的问题。<br>对于 $(i,j)$：当前情况下，使第 $i$ 列到第 $j$ 列之间的所有城市连通的最小代价是多少（列下标从 $1$ 开始）？注意不能用其他列的城市。<br>然而你还有更大的困难，随着时间变化，使用某些边作为铁路的代价会发生改变，你必须有效率地处理这些变化。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行两个正整数 $n,m$，表示该国有 $2$ 行 $n$ 列以及 $m$ 个询问或者操作。<br>第二行 $3n-2$ 个数，前 $n-1$ 个数依次表示在第一行的 $n-1$ 条边上修建铁路的代价。<br>接下来 $n−1$ 个数，依次表示在第二行的 $n-1$ 条边上修建铁路的代价。<br>最后 $n$ 个数，依次表示在第 $1$ 列到第 $n$ 列的边上修建铁路的代价。<br>接下来 $m$ 行的输入具有如下形式，$K,S,T$，其中</p>
<ul>
<li>若 $K&#x3D;1$，则表示询问当前状态下，使所有第 $S$ 列到第 $T$ 列之间的城市连通需要的最小代价。</li>
<li>若 $K&#x3D;2$，则表示位于第 $1$ 行第 $S$ 列的点到第 $1$ 行第 $S+1$ 列的点之间的边上修建铁路的代价变为 $T$。</li>
<li>若 $K&#x3D;3$，则表示位于第 $2$ 行第 $S$ 列的点和第 $2$ 行第 $S+1$ 列的点之间的边上修建铁路的代价变为 $T$。</li>
<li>若 $K&#x3D;4$，则表示第 $S$ 列的边上修建铁路的代价变为 $T$。</li>
</ul>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>依次对每个询问，用一行输出相应的答案。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/22/%E8%AE%A1%E8%92%9C%E5%AE%A2%E3%80%90NOIP2017%E6%A8%A1%E6%8B%9F3%E3%80%91%E4%BB%BB%E6%80%A7%E7%9A%84%E5%9B%BD%E7%8E%8B%20%E7%BA%BF%E6%AE%B5%E6%A0%91+MST/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/12/51Nod1355%20%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E7%9A%84%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%20Min-Max%E5%AE%B9%E6%96%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/12/51Nod1355%20%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E7%9A%84%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%20Min-Max%E5%AE%B9%E6%96%A5/" class="post-title-link" itemprop="url">51Nod1355 斐波那契的最小公倍数 < Min-Max容斥 ></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-12 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-12T00:00:00+08:00">2018-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-12-20 22:58:13" itemprop="dateModified" datetime="2018-12-20T22:58:13+08:00">2018-12-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="斐波那契的最小公倍数"><a href="#斐波那契的最小公倍数" class="headerlink" title="斐波那契的最小公倍数"></a>斐波那契的最小公倍数</h3><p>$\mathrm{Time;Limit:;3;Sec}$<br>$\mathrm{Memory;Limit:;131072;KB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>斐波那契数列定义如下：<br>$$<br>F(0) &#x3D; 0\<br>F(1) &#x3D; 1\<br>F(n) &#x3D; F(n-1) + F(n-2)\<br>$$<br>给出$n$个正整数$a_1, a_2,\cdots a_n$，求对应的斐波那契数的最小公倍数，由于数字很大，输出模 $1000000007$的结果即可。<br>例如：$\lbrace1,3,6,9\rbrace$, 对应的斐波那契数为：$\lbrace1,2,8,34\rbrace$, 他们的最小公倍数为$136$。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第$1$行$1$个数$N$，表示数字的数量。（$2\le N\le50000$）。<br>第$2$至$N+1$行每行$1$个数，对应$a_i$。（$1\le a_i\le1000000$)。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出$\mathrm{lcm}(F(a_1),F(a_2),\cdots,F(a_n))\bmod{1000000007}$的结果。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/12/51Nod1355%20%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E7%9A%84%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%20Min-Max%E5%AE%B9%E6%96%A5/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/11/BZOJ4176%20Lucas%E7%9A%84%E6%95%B0%E8%AE%BA%20%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94+%E6%9D%9C%E6%95%99%E7%AD%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/11/BZOJ4176%20Lucas%E7%9A%84%E6%95%B0%E8%AE%BA%20%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94+%E6%9D%9C%E6%95%99%E7%AD%9B/" class="post-title-link" itemprop="url">BZOJ4176 Lucas的数论 <莫比乌斯反演+杜教筛></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-11 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-11T00:00:00+08:00">2018-10-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-26 10:27:14" itemprop="dateModified" datetime="2018-10-26T10:27:14+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Lucas的数论"><a href="#Lucas的数论" class="headerlink" title="Lucas的数论"></a>Lucas的数论</h3><p>$\mathrm{Time;Limit:;30;Sec}$<br>$\mathrm{Memory;Limit:;256;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>去年的Lucas非常喜欢数论题，但是一年以后的Lucas却不那么喜欢了。<br>在整理以前的试题时，发现了这样一道题目“求$\sum{f(i)}$,其中$1\le i\le N$”，其中$f(i)$表示$i$的约数个数。他现在长大了，题目也变难了。<br>求如下表达式的值：<br>$$<br>\sum_{i&#x3D;1}^{n}\sum_{j&#x3D;1}^{n}f(ij)<br>$$<br>其中$f(ij)$表示$ij$的约数个数。<br>他发现答案有点大，只需要输出模$1000000007$的值。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>第一行一个整数$n$。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一行一个整数$ans$，表示答案模$1000000007$的值。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/11/BZOJ4176%20Lucas%E7%9A%84%E6%95%B0%E8%AE%BA%20%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94+%E6%9D%9C%E6%95%99%E7%AD%9B/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/03/BZOJ3033%20%E5%A4%AA%E9%BC%93%E8%BE%BE%E4%BA%BA%20%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/03/BZOJ3033%20%E5%A4%AA%E9%BC%93%E8%BE%BE%E4%BA%BA%20%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/" class="post-title-link" itemprop="url">BZOJ3033 太鼓达人 <欧拉回路></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-03 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-03T00:00:00+08:00">2018-10-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-08 15:40:54" itemprop="dateModified" datetime="2018-10-08T15:40:54+08:00">2018-10-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="太鼓达人"><a href="#太鼓达人" class="headerlink" title="太鼓达人"></a>太鼓达人</h3><p>$\mathrm{Time;Limit:;1;Sec}$<br>$\mathrm{Memory;Limit:;128;MB}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>七夕祭上，$\mathrm{Vani}$牵着$\mathrm{cl}$的手，在明亮的灯光和欢乐的气氛中愉快地穿行。这时，在前面忽然出现了一台太鼓达人机台，而在机台前坐着的是刚刚被精英队伍成员$\mathrm{XLk}$、$\mathrm{Poet}$_$\mathrm{shy}$和$\mathrm{lydrainbowcat}$拯救出来的的$\mathrm{applepi}$。看到两人对太鼓达人产生了兴趣，$\mathrm{applepi}$果断闪人，于是$\mathrm{cl}$拿起鼓棒准备挑战。然而即使是在普通难度下，$\mathrm{cl}$的路人本性也充分地暴露了出来。一曲终了，不但没有过关，就连鼓都不灵了。$\mathrm{Vani}$十分过意不去，决定帮助工作人员修鼓。<br>鼓的主要元件是$M$个围成一圈的传感器。每个传感器都有开和关两种工作状态，分别用$1$和$0$表示。显然，从不同的位置出发沿顺时针方向连续检查$K$个传感器可以得到$M$个长度为$K$的$01$串。$\mathrm{Vani}$知道这$M$个$01$串应该是互不相同的。而且鼓的设计很精密，$M$会取到可能的最大值。现在$\mathrm{Vani}$已经了解到了K的值，他希望你求出$M$的值，并给出字典序最小的传感器排布方案。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>一个整数$K$。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>一个整数$M$和一个二进制串，由一个空格分隔。表示可能的最大的$M$以及字典序最小的排布方案，字符$0$表示关，$1$表示开。你输出的串的第一个字和最后一个字是相邻的。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/03/BZOJ3033%20%E5%A4%AA%E9%BC%93%E8%BE%BE%E4%BA%BA%20%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/02/AGC018E%20Sightseeing%20Plan%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/02/AGC018E%20Sightseeing%20Plan%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/" class="post-title-link" itemprop="url">AGC018E Sightseeing Plan <组合数学></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-02 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-02T00:00:00+08:00">2018-10-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-08 20:48:40" itemprop="dateModified" datetime="2018-10-08T20:48:40+08:00">2018-10-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Sightseeing-Plan"><a href="#Sightseeing-Plan" class="headerlink" title="Sightseeing Plan"></a>Sightseeing Plan</h3><p>$\mathrm{Time;limit:;8;Sec}$<br>$\mathrm{Memory;limit:;256;MB}$</p>
<h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><p>Joisino is planning on touring Takahashi Town. The town is divided into square sections by north-south and east-west lines. We will refer to the section that is the $x^{th}$ from the west and the $y^{th}$ from the north as $(x,y)$.<br>Joisino thinks that a touring plan is good if it satisfies the following conditions:<br>Let $(p,q)$ be the section where she starts the tour. Then, $X_1\le p\le X_2$ and $Y_1\le q\le Y_2$ hold.<br>Let $(s,t)$ be the section where she has lunch. Then, $X_3\le s\le X_4$ and $Y_3\le t\le Y_4$ hold.<br>Let $(u,v)$ be the section where she ends the tour. Then, $X_5\le u\le X_6$ and $Y_5\le v\le Y_6$ hold.<br>By repeatedly moving to the adjacent section (sharing a side), she travels from the starting section to the ending section in the shortest distance, passing the lunch section on the way.<br>Two touring plans are considered different if at least one of the following is different: the starting section, the lunch section, the ending section, and the sections that are visited on the way. Joisino would like to know how many different good touring plans there are. Find the number of the different good touring plans. Since it may be extremely large, find the count modulo $10^9+7$.</p>
<h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><p>$1\le X_1\le X_2&lt;X_3\le X_4&lt;X_5\le X_6\le 10^6$<br>$1\le Y_1\le Y_2&lt;Y_3\le Y_4&lt;Y_5\le Y_6\le 10^6$</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:<br>$$<br>\begin{matrix}<br>X_1&amp;X_2&amp;X_3&amp;X_4&amp;X_5&amp;X_6\<br>Y_1&amp;Y_2&amp;Y_3&amp;Y_4&amp;Y_5&amp;Y_6\<br>\end{matrix}<br>$$</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the number of the different good touring plans, modulo $10^9+7$.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/02/AGC018E%20Sightseeing%20Plan%20%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://timothy-shu.github.io/OI-Blog/2018/10/02/%E3%80%90ACM-ICPC%202018%20%E5%8D%97%E4%BA%AC%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%E3%80%91Set%20%E5%B9%B6%E6%9F%A5%E9%9B%86+Trie%E5%90%88%E5%B9%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/OI-Blog/images/avatar.gif">
      <meta itemprop="name" content="Azrael">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NIRVANA">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | NIRVANA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/OI-Blog/2018/10/02/%E3%80%90ACM-ICPC%202018%20%E5%8D%97%E4%BA%AC%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%E3%80%91Set%20%E5%B9%B6%E6%9F%A5%E9%9B%86+Trie%E5%90%88%E5%B9%B6/" class="post-title-link" itemprop="url">【ACM-ICPC 2018 南京赛区网络预赛】Set <并查集+Trie合并></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-10-02 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-02T00:00:00+08:00">2018-10-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-10-26 18:37:19" itemprop="dateModified" datetime="2018-10-26T18:37:19+08:00">2018-10-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="【ACM-ICPC-2018-南京赛区网络预赛】Set"><a href="#【ACM-ICPC-2018-南京赛区网络预赛】Set" class="headerlink" title="【ACM-ICPC 2018 南京赛区网络预赛】Set"></a>【ACM-ICPC 2018 南京赛区网络预赛】Set</h3><p>$\mathrm{Time;Limit:;1500;ms}$<br>$\mathrm{Memory;Limit:;524288;K}$</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Shinku is very interested in the set. One day, she got $n$ sets, and the $i^{th}$ number $a_i$ is in the $i^{th}$ set. But she doesn’t think it is interesting enough, so she applies $m$ magic to these sets. There are three kinds of magic:</p>
<ul>
<li>$1;u;v$: If the $u^{th}$ and $v^{th}$ numbers are not in one set, then the Shinku’s magic will merge the set containing the $u^{th}$ number and the set containing the $v^{th}$ number.</li>
<li>$2;u$: Shinku’s magic adds $1$ to each number in the set containing the $u^{th}$ number.</li>
<li>$3;u;k;x$: Shinku can immediately know how many numbers $t$ in the set containing the $u^{th}$ number satisfy $t\equiv x (\bmod\ 2^k)$ $(0 \le k\le 30,0\le x&lt;2^k)$.</li>
</ul>
<p>But unfortunately, for some reason the type $3$ magic fails. So Shinku wants you to tell her the answer after every type $3$ magic.<br>Note that there can be multiple numbers with the same value in one set, that is, numbers with the same value will not disappear when merged.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two integers $n,m$ $(1 \le n,m \le 6 \times 10^5)$, the number of initial sets and the number of the magic.<br>The second line contains $n$ integers. The $i^{th}$ number $a_i$ $(0 \le a_i \le 10^9)$ is the number in the $i^{th}$ set initially.<br>The next $m$ lines describe the sequence of magic. The $i^{th}$ line describes the $i^{th}$ magic. Each magic is a magic as described above.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each type $3$ magic, output the answer you are asked to calculate.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/OI-Blog/2018/10/02/%E3%80%90ACM-ICPC%202018%20%E5%8D%97%E4%BA%AC%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%E3%80%91Set%20%E5%B9%B6%E6%9F%A5%E9%9B%86+Trie%E5%90%88%E5%B9%B6/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/OI-Blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/OI-Blog/page/27/">27</a><a class="extend next" rel="next" href="/OI-Blog/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Azrael</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/OI-Blog/js/comments.js"></script><script src="/OI-Blog/js/utils.js"></script><script src="/OI-Blog/js/motion.js"></script><script src="/OI-Blog/js/schemes/muse.js"></script><script src="/OI-Blog/js/next-boot.js"></script>

  



  <script src="/OI-Blog/js/third-party/fancybox.js"></script>


  





</body>
</html>
